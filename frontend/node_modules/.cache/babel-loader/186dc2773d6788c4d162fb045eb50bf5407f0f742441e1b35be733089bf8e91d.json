{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import axios from'axios';import{AuthContext}from'../context/AuthContext';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Dashboard=()=>{const{user}=useContext(AuthContext);const[organizations,setOrganizations]=useState([]);const[projects,setProjects]=useState([]);useEffect(()=>{const fetchData=async()=>{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};try{const orgRes=await axios.get('http://localhost:5000/api/organizations',config);setOrganizations(orgRes.data);const projRes=await axios.get('http://localhost:5000/api/projects',config);setProjects(projRes.data);}catch(err){console.error('Error fetching data:',err);}};fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold mb-4\",children:[\"Welcome, \",user===null||user===void 0?void 0:user.username,\"!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"Your Organizations\"}),organizations.length>0?/*#__PURE__*/_jsx(\"ul\",{children:organizations.map(org=>/*#__PURE__*/_jsx(\"li\",{className:\"mb-2\",children:org.name},org._id))}):/*#__PURE__*/_jsx(\"p\",{children:\"You don't have any organizations yet.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"Your Projects\"}),projects.length>0?/*#__PURE__*/_jsx(\"ul\",{children:projects.map(project=>/*#__PURE__*/_jsx(\"li\",{className:\"mb-2\",children:project.name},project._id))}):/*#__PURE__*/_jsx(\"p\",{children:\"You don't have any projects yet.\"})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useContext","useEffect","useState","axios","AuthContext","jsxs","_jsxs","jsx","_jsx","Dashboard","user","organizations","setOrganizations","projects","setProjects","fetchData","token","localStorage","getItem","config","headers","orgRes","get","data","projRes","err","console","error","className","children","username","length","map","org","name","_id","project"],"sources":["C:/Users/HP/Desktop/project-management-platform/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst Dashboard = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [organizations, setOrganizations] = useState([]);\r\n  const [projects, setProjects] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const token = localStorage.getItem('token');\r\n      const config = {\r\n        headers: { 'x-auth-token': token }\r\n      };\r\n\r\n      try {\r\n        const orgRes = await axios.get('http://localhost:5000/api/organizations', config);\r\n        setOrganizations(orgRes.data);\r\n\r\n        const projRes = await axios.get('http://localhost:5000/api/projects', config);\r\n        setProjects(projRes.data);\r\n      } catch (err) {\r\n        console.error('Error fetching data:', err);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container mx-auto mt-8\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Welcome, {user?.username}!</h2>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <h3 className=\"text-xl font-semibold mb-2\">Your Organizations</h3>\r\n          {organizations.length > 0 ? (\r\n            <ul>\r\n              {organizations.map(org => (\r\n                <li key={org._id} className=\"mb-2\">{org.name}</li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p>You don't have any organizations yet.</p>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <h3 className=\"text-xl font-semibold mb-2\">Your Projects</h3>\r\n          {projects.length > 0 ? (\r\n            <ul>\r\n              {projects.map(project => (\r\n                <li key={project._id} className=\"mb-2\">{project.name}</li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p>You don't have any projects yet.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,wBAAwB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAErD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAEC,IAAK,CAAC,CAAGV,UAAU,CAACI,WAAW,CAAC,CACxC,KAAM,CAACO,aAAa,CAAEC,gBAAgB,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,MAAM,CAAG,CACbC,OAAO,CAAE,CAAE,cAAc,CAAEJ,KAAM,CACnC,CAAC,CAED,GAAI,CACF,KAAM,CAAAK,MAAM,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAAC,yCAAyC,CAAEH,MAAM,CAAC,CACjFP,gBAAgB,CAACS,MAAM,CAACE,IAAI,CAAC,CAE7B,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAArB,KAAK,CAACmB,GAAG,CAAC,oCAAoC,CAAEH,MAAM,CAAC,CAC7EL,WAAW,CAACU,OAAO,CAACD,IAAI,CAAC,CAC3B,CAAE,MAAOE,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEF,GAAG,CAAC,CAC5C,CACF,CAAC,CAEDV,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,mBACET,KAAA,QAAKsB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCvB,KAAA,OAAIsB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EAAC,WAAS,CAACnB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoB,QAAQ,CAAC,GAAC,EAAI,CAAC,cACvExB,KAAA,QAAKsB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCvB,KAAA,QAAAuB,QAAA,eACErB,IAAA,OAAIoB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,CACjElB,aAAa,CAACoB,MAAM,CAAG,CAAC,cACvBvB,IAAA,OAAAqB,QAAA,CACGlB,aAAa,CAACqB,GAAG,CAACC,GAAG,eACpBzB,IAAA,OAAkBoB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEI,GAAG,CAACC,IAAI,EAAnCD,GAAG,CAACE,GAAoC,CAClD,CAAC,CACA,CAAC,cAEL3B,IAAA,MAAAqB,QAAA,CAAG,uCAAqC,CAAG,CAC5C,EACE,CAAC,cACNvB,KAAA,QAAAuB,QAAA,eACErB,IAAA,OAAIoB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,CAC5DhB,QAAQ,CAACkB,MAAM,CAAG,CAAC,cAClBvB,IAAA,OAAAqB,QAAA,CACGhB,QAAQ,CAACmB,GAAG,CAACI,OAAO,eACnB5B,IAAA,OAAsBoB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEO,OAAO,CAACF,IAAI,EAA3CE,OAAO,CAACD,GAAwC,CAC1D,CAAC,CACA,CAAC,cAEL3B,IAAA,MAAAqB,QAAA,CAAG,kCAAgC,CAAG,CACvC,EACE,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}